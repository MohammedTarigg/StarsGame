{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport react, { useState, useEffect } from \"react\";\nimport utils from './utils';\n\nconst useGameState = timeLimit => {\n  _s();\n\n  const [stars, setStars] = useState(utils.random(1, 9));\n  const [availableNums, setAvailableNums] = useState(utils.range(1, 9));\n  const [candidateNums, setCandidateNums] = useState([]);\n  const [secondsLeft, setSecondsLeft] = useState(10);\n  useEffect(() => {\n    if (secondsLeft > 0 && availableNums.length > 0) {\n      const timerId = setTimeout(() => setSecondsLeft(secondsLeft - 1), 1000);\n      return () => clearTimeout(timerId);\n    }\n  });\n\n  const setGameState = newCandidateNums => {\n    if (utils.sum(newCandidateNums) !== stars) {\n      setCandidateNums(newCandidateNums);\n    } else {\n      const newAvailableNums = availableNums.filter(n => !newCandidateNums.includes(n));\n      setStars(utils.randomSumIn(newAvailableNums, 9));\n      setAvailableNums(newAvailableNums);\n      setCandidateNums([]);\n    }\n  };\n\n  return {\n    stars,\n    availableNums,\n    candidateNums,\n    secondsLeft,\n    setGameState\n  };\n};\n\n_s(useGameState, \"+C/LvG7qkPd5YTZ59/XKdcLBwGo=\");\n\nexport default useGameState;","map":{"version":3,"names":["react","useState","useEffect","utils","useGameState","timeLimit","stars","setStars","random","availableNums","setAvailableNums","range","candidateNums","setCandidateNums","secondsLeft","setSecondsLeft","length","timerId","setTimeout","clearTimeout","setGameState","newCandidateNums","sum","newAvailableNums","filter","n","includes","randomSumIn"],"sources":["C:/Users/kasbe/Desktop/vsc/react/star-match/src/useGameState.js"],"sourcesContent":["import react, { useState , useEffect } from \"react\";\r\nimport utils from './utils'\r\n\r\nconst useGameState = (timeLimit) => {\r\n    const [stars, setStars] = useState(utils.random(1, 9));\r\n    const [availableNums, setAvailableNums] = useState(utils.range(1, 9));\r\n    const [candidateNums, setCandidateNums] = useState([]);\r\n    const [secondsLeft, setSecondsLeft] = useState(10);\r\n  \r\n    useEffect(() => {\r\n      if (secondsLeft > 0 && availableNums.length > 0) {\r\n        const timerId = setTimeout(() => setSecondsLeft(secondsLeft - 1), 1000);\r\n        return () => clearTimeout(timerId);\r\n      }\r\n    });\r\n  \r\n    const setGameState = (newCandidateNums) => {\r\n      if (utils.sum(newCandidateNums) !== stars) {\r\n              setCandidateNums(newCandidateNums);\r\n      } else {\r\n        const newAvailableNums = availableNums.filter(\r\n          n => !newCandidateNums.includes(n)\r\n        );\r\n        setStars(utils.randomSumIn(newAvailableNums, 9));\r\n        setAvailableNums(newAvailableNums);\r\n        setCandidateNums([]);\r\n      }\r\n    };\r\n  \r\n    return { stars, availableNums, candidateNums, secondsLeft, setGameState };\r\n}\r\n\r\nexport default useGameState\r\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA2BC,SAA3B,QAA4C,OAA5C;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AAEA,MAAMC,YAAY,GAAIC,SAAD,IAAe;EAAA;;EAChC,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAACE,KAAK,CAACK,MAAN,CAAa,CAAb,EAAgB,CAAhB,CAAD,CAAlC;EACA,MAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCT,QAAQ,CAACE,KAAK,CAACQ,KAAN,CAAY,CAAZ,EAAe,CAAf,CAAD,CAAlD;EACA,MAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCZ,QAAQ,CAAC,EAAD,CAAlD;EACA,MAAM,CAACa,WAAD,EAAcC,cAAd,IAAgCd,QAAQ,CAAC,EAAD,CAA9C;EAEAC,SAAS,CAAC,MAAM;IACd,IAAIY,WAAW,GAAG,CAAd,IAAmBL,aAAa,CAACO,MAAd,GAAuB,CAA9C,EAAiD;MAC/C,MAAMC,OAAO,GAAGC,UAAU,CAAC,MAAMH,cAAc,CAACD,WAAW,GAAG,CAAf,CAArB,EAAwC,IAAxC,CAA1B;MACA,OAAO,MAAMK,YAAY,CAACF,OAAD,CAAzB;IACD;EACF,CALQ,CAAT;;EAOA,MAAMG,YAAY,GAAIC,gBAAD,IAAsB;IACzC,IAAIlB,KAAK,CAACmB,GAAN,CAAUD,gBAAV,MAAgCf,KAApC,EAA2C;MACnCO,gBAAgB,CAACQ,gBAAD,CAAhB;IACP,CAFD,MAEO;MACL,MAAME,gBAAgB,GAAGd,aAAa,CAACe,MAAd,CACvBC,CAAC,IAAI,CAACJ,gBAAgB,CAACK,QAAjB,CAA0BD,CAA1B,CADiB,CAAzB;MAGAlB,QAAQ,CAACJ,KAAK,CAACwB,WAAN,CAAkBJ,gBAAlB,EAAoC,CAApC,CAAD,CAAR;MACAb,gBAAgB,CAACa,gBAAD,CAAhB;MACAV,gBAAgB,CAAC,EAAD,CAAhB;IACD;EACF,CAXD;;EAaA,OAAO;IAAEP,KAAF;IAASG,aAAT;IAAwBG,aAAxB;IAAuCE,WAAvC;IAAoDM;EAApD,CAAP;AACH,CA3BD;;GAAMhB,Y;;AA6BN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}