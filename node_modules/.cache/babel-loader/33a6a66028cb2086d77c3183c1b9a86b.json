{"ast":null,"code":"import _slicedToArray from\"C:/Users/kasbe/Documents/GitHub/StarsGame/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import utils from'./utils';var useGameState=function useGameState(){var _useState=useState(utils.random(1,9)),_useState2=_slicedToArray(_useState,2),stars=_useState2[0],setStars=_useState2[1];var _useState3=useState(utils.range(1,9)),_useState4=_slicedToArray(_useState3,2),availableNums=_useState4[0],setAvailableNums=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),candidateNums=_useState6[0],setCandidateNums=_useState6[1];var _useState7=useState(10),_useState8=_slicedToArray(_useState7,2),secondsLeft=_useState8[0],setSecondsLeft=_useState8[1];useEffect(function(){if(secondsLeft>0&&availableNums.length>0){var timerId=setTimeout(function(){return setSecondsLeft(secondsLeft-1);},1000);return function(){return clearTimeout(timerId);};}});var setGameState=function setGameState(newCandidateNums){if(utils.sum(newCandidateNums)!==stars){setCandidateNums(newCandidateNums);}else{var newAvailableNums=availableNums.filter(function(n){return!newCandidateNums.includes(n);});setStars(utils.randomSumIn(newAvailableNums,9));setAvailableNums(newAvailableNums);setCandidateNums([]);}};return{stars:stars,availableNums:availableNums,candidateNums:candidateNums,secondsLeft:secondsLeft,setGameState:setGameState};};export default useGameState;","map":{"version":3,"names":["useState","useEffect","utils","useGameState","random","stars","setStars","range","availableNums","setAvailableNums","candidateNums","setCandidateNums","secondsLeft","setSecondsLeft","length","timerId","setTimeout","clearTimeout","setGameState","newCandidateNums","sum","newAvailableNums","filter","n","includes","randomSumIn"],"sources":["C:/Users/kasbe/Documents/GitHub/StarsGame/src/gameLogic/useGameState.js"],"sourcesContent":["import { useState , useEffect } from 'react';\r\nimport utils from './utils';\r\n\r\nconst useGameState = () => {\r\n    const [stars, setStars] = useState(utils.random(1, 9));\r\n    const [availableNums, setAvailableNums] = useState(utils.range(1, 9));\r\n    const [candidateNums, setCandidateNums] = useState([]);\r\n    const [secondsLeft, setSecondsLeft] = useState(10);\r\n  \r\n    useEffect(() => {\r\n      if (secondsLeft > 0 && availableNums.length > 0) {\r\n        const timerId = setTimeout(() => setSecondsLeft(secondsLeft - 1), 1000);\r\n        return () => clearTimeout(timerId);\r\n      }\r\n    });\r\n  \r\n    const setGameState = (newCandidateNums) => {\r\n      if (utils.sum(newCandidateNums) !== stars) {\r\n              setCandidateNums(newCandidateNums);\r\n      } else {\r\n        const newAvailableNums = availableNums.filter(\r\n          n => !newCandidateNums.includes(n)\r\n        );\r\n        setStars(utils.randomSumIn(newAvailableNums, 9));\r\n        setAvailableNums(newAvailableNums);\r\n        setCandidateNums([]);\r\n      }\r\n    };\r\n  \r\n    return { stars, availableNums, candidateNums, secondsLeft, setGameState };\r\n}\r\n\r\nexport default useGameState\r\n"],"mappings":"+HAAA,OAASA,QAAT,CAAoBC,SAApB,KAAqC,OAArC,CACA,MAAOC,MAAP,KAAkB,SAAlB,CAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CACvB,cAA0BH,QAAQ,CAACE,KAAK,CAACE,MAAN,CAAa,CAAb,CAAgB,CAAhB,CAAD,CAAlC,wCAAOC,KAAP,eAAcC,QAAd,eACA,eAA0CN,QAAQ,CAACE,KAAK,CAACK,KAAN,CAAY,CAAZ,CAAe,CAAf,CAAD,CAAlD,yCAAOC,aAAP,eAAsBC,gBAAtB,eACA,eAA0CT,QAAQ,CAAC,EAAD,CAAlD,yCAAOU,aAAP,eAAsBC,gBAAtB,eACA,eAAsCX,QAAQ,CAAC,EAAD,CAA9C,yCAAOY,WAAP,eAAoBC,cAApB,eAEAZ,SAAS,CAAC,UAAM,CACd,GAAIW,WAAW,CAAG,CAAd,EAAmBJ,aAAa,CAACM,MAAd,CAAuB,CAA9C,CAAiD,CAC/C,GAAMC,QAAO,CAAGC,UAAU,CAAC,iBAAMH,eAAc,CAACD,WAAW,CAAG,CAAf,CAApB,EAAD,CAAwC,IAAxC,CAA1B,CACA,MAAO,kBAAMK,aAAY,CAACF,OAAD,CAAlB,EAAP,CACD,CACF,CALQ,CAAT,CAOA,GAAMG,aAAY,CAAG,QAAfA,aAAe,CAACC,gBAAD,CAAsB,CACzC,GAAIjB,KAAK,CAACkB,GAAN,CAAUD,gBAAV,IAAgCd,KAApC,CAA2C,CACnCM,gBAAgB,CAACQ,gBAAD,CAAhB,CACP,CAFD,IAEO,CACL,GAAME,iBAAgB,CAAGb,aAAa,CAACc,MAAd,CACvB,SAAAC,CAAC,QAAI,CAACJ,gBAAgB,CAACK,QAAjB,CAA0BD,CAA1B,CAAL,EADsB,CAAzB,CAGAjB,QAAQ,CAACJ,KAAK,CAACuB,WAAN,CAAkBJ,gBAAlB,CAAoC,CAApC,CAAD,CAAR,CACAZ,gBAAgB,CAACY,gBAAD,CAAhB,CACAV,gBAAgB,CAAC,EAAD,CAAhB,CACD,CACF,CAXD,CAaA,MAAO,CAAEN,KAAK,CAALA,KAAF,CAASG,aAAa,CAAbA,aAAT,CAAwBE,aAAa,CAAbA,aAAxB,CAAuCE,WAAW,CAAXA,WAAvC,CAAoDM,YAAY,CAAZA,YAApD,CAAP,CACH,CA3BD,CA6BA,cAAef,aAAf"},"metadata":{},"sourceType":"module"}